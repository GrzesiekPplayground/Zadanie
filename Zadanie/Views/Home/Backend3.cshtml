@model Zadanie.Models.Earthquake
@{
    ViewBag.Title = "Backend3";
}

<h2>Zadanie Backend 3</h2>

<h4>Wybierz rok, dla którego chcesz zobaczyć liczbę trzęsień ziemi</h4>

@* Lista do wyboru roku *@
@using (Html.BeginForm("Backend3", "Home", FormMethod.Post))
{
    int minYear = ViewBag.minYear;
    int maxYear = ViewBag.maxYear;

    @Html.DropDownListFor(m => m.selectedYear, Zadanie.Models.Earthquake.GetAllYearsList(minYear, maxYear), "Wybierz rok...")
    <input type="submit" value="Wybierz" />
}

@* Wyświetlanie wyniku dla wybranego roku *@
<div id="earthquakes-count">
    @{
        var rows = ViewBag.rows;

        if (rows.Count != 0)
        {
            var returnedRow = ViewBag.rows[0];
            var year = returnedRow[0];
            var events = returnedRow[1];
            <p>W @year roku miało miejsce @events trzęsień ziemi.</p>
        }
        else
        {
            <p>Nie wybrano roku.</p>
        }
    }
</div>

